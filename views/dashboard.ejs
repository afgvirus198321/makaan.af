<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Welcome Admin</title>
    <link rel="stylesheet" href="css/main.css" />
    <style>
      .welcomediv {
        backdrop-filter: blur(60px);
        width: 100%;
        height: 40vh;
        display: flex;
        justify-content: center;
        align-items: center;
      }
      .maindiv {
        width: 100%;
      }
      .intro {
        backdrop-filter: blur(60px);
        animation: introv 2.3s ease-in-out;
      }
      @keyframes introv {
        0% {
          width: 0%;
          height: 40vh;
        }
        100% {
          height: 40vh;
          width: 100%;
        }
      }
      * {
        min-width: fit-content;
      }
      #welcome {
        display: none;
        color: rgb(255, 255, 255);
        font-size: 6em;
        text-align: center;
      }
      .blurin {
        -webkit-animation: text-focus-in 1s
          cubic-bezier(0.55, 0.085, 0.68, 0.53) both;
        animation: text-focus-in 1s cubic-bezier(0.55, 0.085, 0.68, 0.53) both;
      }

      @-webkit-keyframes text-focus-in {
        0% {
          -webkit-filter: blur(12px);
          filter: blur(12px);
          opacity: 0;
        }
        100% {
          -webkit-filter: blur(0px);
          filter: blur(0px);
          opacity: 1;
        }
      }
      @keyframes text-focus-in {
        0% {
          -webkit-filter: blur(12px);
          filter: blur(12px);
          opacity: 0;
        }
        100% {
          -webkit-filter: blur(0px);
          filter: blur(0px);
          opacity: 1;
        }
      }
      .blurout {
        -webkit-animation: text-blur-out 1.2s
          cubic-bezier(0.55, 0.085, 0.68, 0.53) both;
        animation: text-blur-out 1.2s cubic-bezier(0.55, 0.085, 0.68, 0.53) both;
      }

      @-webkit-keyframes text-blur-out {
        0% {
          -webkit-filter: blur(0.01);
          filter: blur(0.01);
        }
        100% {
          -webkit-filter: blur(12px) opacity(0%);
          filter: blur(12px) opacity(0%);
        }
      }
      @keyframes text-blur-out {
        0% {
          -webkit-filter: blur(0.01);
          filter: blur(0.01);
        }
        100% {
          -webkit-filter: blur(12px) opacity(0%);
          filter: blur(12px) opacity(0%);
        }
      }

      body {
        width: 100%;
        display: flex;
        flex-direction: column;
      }
      .maindiv {
        width: 85% !important;
        display: flex;
        justify-content: center;
        align-items: center;
        flex-flow: wrap;
        padding-left: 9%;
      }
      .sortdiv {
        display: flex;
        flex-flow: wrap;
        width: 100%;
      }
      .cont1 {
        width: 300px;
        height: 400px;
        background-color: #f2f7ff;
        display: flex;
        justify-content: center;
        border-radius: 10px;
        overflow: hidden;
        margin: 2vh 2%;
        padding: 20px 20px;
      }
      .imgcont1 {
        height: 34vh;
        width: 100%;
        overflow: hidden;
        border-radius: 10px 10px 0px 0px;
      }
      .dbimg {
        width: 100% !important;
        height: 100%;
      }
      .infodiv h3 {
        font-size: 1.5rem;
      }
      .infodiv h5 {
        font-size: 0.9rem;
      }
      .btnf {
        height: 4vh;
        width: 80px;
        background-color: rgba(240, 248, 255, 0);
        border: 3px solid #51459e;
        border-radius: 5px;
        font-size: 1rem;
        margin: 1vh 2vw;
        &:hover {
          background-color: #51459e;
          color: white;
        }
      }
      .formdiv {
        display: flex;
        flex-direction: column;
      }

      body {
        background-color: #dee1e6;
        display: flex;
      }
      .material-symbols-outlined {
        font-variation-settings: "FILL" 0, "wght" 400, "GRAD" 0, "opsz" 24;
        border: none;
        display: flex;
        background-color: #ece8da;
        color: #51459e;
      }

      .navb {
        background-color: #c5d3f9;
        width: 7%;
        height: 100vh;
        position: fixed;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
        gap: 5vh;
      }

      .homebtn {
        height: 7vh;
        width: 50px;
        background-color: #ece8da;
        display: flex;
        justify-content: center;
        align-items: center;
        border-radius: 12px;
        margin: 4vh 0px;
        cursor: default;
        &:hover {
          background-color: #51459e;
        }
      }
      @media screen and (max-width: 1452px) {
        .cont1 {
          flex-direction: column;
          justify-content: center;
          align-items: center;
        }
        .dbimg {
          width: fit-content;
        }
        .maindiv {
          width: 100vw;
        }
      }
      .section2 {
        width: 100%;
        height: 20vh;
        background-color: #dee1e6;
        margin-top: 2vh;
      }
      .section3 {
        width: 90%;
        display: none;
        justify-content: center;
        align-items: center;
        flex-flow: wrap;
        background-color: #c7c9ce;
      }
      #section2 {
        display: none;
        position: relative;
        top: 10vh !important;
        flex-direction: column;
        justify-content: center;
        align-items: center;
      }
    </style>
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0"
    />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200"
    />
  </head>
  <body>
    <div class="navb">
      <div class="foralign">
        <div id="homebtn" class="homebtn">
          <span class="material-symbols-outlined" id="hometxt"> home </span>
        </div>

        <div id="deletebtn" class="homebtn">
          <span class="material-symbols-outlined" id="deletetxt"> delete </span>
        </div>
        <div id="monitorbtn" class="homebtn">
          <span class="material-symbols-outlined" id="monitortxt">
            monitoring
          </span>
        </div>
      </div>
      <div id="logoutbtn" class="homebtn">
        <form action="/logout" method="post">
          <button
            class="material-symbols-outlined"
            type="submit"
            id="logouttxt"
          >
            logout
          </button>
        </form>
      </div>
    </div>
    <div class="maindiv" id="maindiv">
      <%if(result){%> <%result.forEach((item)=>{%>
      <div class="cont1">
        <div class="imgcont1">
          <img src="importedimg/<%=item.photo%>" alt="dbimage" class="dbimg" />
        </div>
        <div class="sortdiv">
          <div class="infodiv">
            <table>
              <tr>
                <td><h3>Price :</h3></td>
                <td><h3><%=item.price%> Af</h3></td>
              </tr>
              <tr>
                <td><h5>Street :</h5></td>
                <td><h5><%=item.street%></h5></td>
              </tr>
              <tr>
                <td><h5>City :</h5></td>
                <td><h5><%=item.city%></h5></td>
              </tr>
              <tr>
                <td><h5>Province :</h5></td>
                <td><h5><%=item.province%></h5></td>
              </tr>
              <tr>
                <td><h5>Sq-ft :</h5></td>
                <td><h5><%=item.square%> sq-ft</h5></td>
              </tr>
              <tr>
                <td><h5>Rooms :</h5></td>
                <td><h5><%=item.rooms%> rooms</h5></td>
              </tr>
              <tr>
                <td><h5>Description :</h5></td>
                <td><h5><%=item.describe%></h5></td>
              </tr>
              <tr>
                <td><h5>ph_no :</h5></td>
                <td><h5><%=item.phnum%></h5></td>
              </tr>
              <tr>
                <td><h5>sell | rent :</h5></td>
                <td><h5><%=item.sellrent%></h5></td>
              </tr>
            </table>
          </div>
          <div class="formdiv">
            <form action="/approve" method="post">
              <input
                type="hidden"
                name="id"
                value="<%=JSON.stringify(item._id)%>"
              />
              <input type="hidden" name="photo" value="<%=item.photo%>" />
              <input type="hidden" name="price" value="<%=item.price%>" />
              <input type="hidden" name="street" value="<%=item.street%>" />
              <input type="hidden" name="city" value="<%=item.city%>" />
              <input type="hidden" name="province" value="<%=item.province%>" />
              <input type="hidden" name="square" value="<%=item.square%>" />
              <input type="hidden" name="describe" value="<%=item.describe%>" />
              <input type="hidden" name="phnum" value="<%=item.phnum%>" />
              <input type="hidden" name="rooms" value="<%=item.rooms%>" />
              <input type="hidden" name="sellrent" value="<%=item.sellrent%>" />
              <button type="submit" class="btnf">Approve</button>
            </form>
            <form action="/delete" method="post">
              <input
                type="hidden"
                name="id"
                value="<%=JSON.stringify(item._id)%>"
              />
              <input type="hidden" name="photo" value="<%=item.photo%>" />
              <input type="hidden" name="price" value="<%=item.price%>" />
              <input type="hidden" name="street" value="<%=item.street%>" />
              <input type="hidden" name="city" value="<%=item.city%>" />
              <input type="hidden" name="province" value="<%=item.province%>" />
              <input type="hidden" name="square" value="<%=item.square%>" />
              <input type="hidden" name="describe" value="<%=item.describe%>" />
              <input type="hidden" name="phnum" value="<%=item.phnum%>" />
              <input type="hidden" name="rooms" value="<%=item.rooms%>" />
              <input type="hidden" name="sellrent" value="<%=item.sellrent%>" />
              <button type="submit" class="btnf">Delete</button>
            </form>
          </div>
        </div>
      </div>
      <%})}else{%>
      <div class="cont1"><h1>nothing in database</h1></div>

      <%}%>
    </div>
    <div class="section1-1" id="section2">
      <form action="/searchinfoadmin" method="post">
        <h1>RENT | SELL | BUY</h1>
        <div class="Search">
          <input
            type="text"
            name="search"
            placeholder="Enter an address/province or city"
          />
          <button type="submit" class="submitbtn">Search</button>
        </div>
      </form>
    </div>
    <div class="section2" id=""></div>
    <div class="section3" id="section3">
      <div class="maindiv">
        <%if(searchpart){%> <%searchpart.forEach((item)=>{%>
        <div class="cont1">
          <div class="imgcont1">
            <img
              src="importedimg/<%=item.photo%>"
              alt="dbimage"
              class="dbimg"
            />
          </div>
          <div class="sortdiv">
            <div class="infodiv">
              <table>
                <tr>
                  <td><h3>Price :</h3></td>
                  <td><h3><%=item.price%> Af</h3></td>
                </tr>
                <tr>
                  <td><h5>Street :</h5></td>
                  <td><h5><%=item.street%></h5></td>
                </tr>
                <tr>
                  <td><h5>City :</h5></td>
                  <td><h5><%=item.city%></h5></td>
                </tr>
                <tr>
                  <td><h5>Province :</h5></td>
                  <td><h5><%=item.province%></h5></td>
                </tr>
                <tr>
                  <td><h5>Sq-ft :</h5></td>
                  <td><h5><%=item.square%> sq-ft</h5></td>
                </tr>
                <tr>
                  <td><h5>Rooms :</h5></td>
                  <td><h5><%=item.rooms%> rooms</h5></td>
                </tr>
                <tr>
                  <td><h5>Description :</h5></td>
                  <td><h5><%=item.describe%></h5></td>
                </tr>
                <tr>
                  <td><h5>ph_no :</h5></td>
                  <td><h5><%=item.phnum%></h5></td>
                </tr>
                <tr>
                  <td><h5>sell | rent :</h5></td>
                  <td><h5><%=item.sellrent%></h5></td>
                </tr>
              </table>
            </div>
            <div class="formdiv">
              <form action="/deleteadmin" method="post">
                <input type="hidden" name="id" value="<%=item.id%>" />
                <input type="hidden" name="photo" value="<%=item.photo%>" />
                <input type="hidden" name="price" value="<%=item.price%>" />
                <input type="hidden" name="street" value="<%=item.street%>" />
                <input type="hidden" name="city" value="<%=item.city%>" />
                <input
                  type="hidden"
                  name="province"
                  value="<%=item.province%>"
                />
                <input type="hidden" name="square" value="<%=item.square%>" />
                <input
                  type="hidden"
                  name="describe"
                  value="<%=item.describe%>"
                />
                <input type="hidden" name="phnum" value="<%=item.phnum%>" />
                <input type="hidden" name="rooms" value="<%=item.rooms%>" />
                <input
                  type="hidden"
                  name="sellrent"
                  value="<%=item.sellrent%>"
                />
                <button type="submit" class="btnf">Delete</button>
              </form>
            </div>
          </div>
        </div>
        <%})}else{%>
        <div class="cont1"><h1>nothing in database</h1></div>

        <%}%>
      </div>
    </div>

    <script>
      let intro = document.getElementById("intro");
      setTimeout(() => {
        intro.classList.replace("intro", "welcomediv");
      }, 2000);
      let welcome = document.getElementById("welcome");
      setTimeout(() => {
        welcome.style.display = "flex";
        welcome.classList.add("blurin");
      }, 2300);
      setTimeout(() => {
        welcome.classList.replace("blurin", "blurout");
      }, 4300);
      setTimeout(() => {
        welcome.innerHTML = "lets Start...";
        welcome.classList.replace("blurout", "blurin");
      }, 6300);

      let homebtn = document.getElementById("homebtn");
      let deletebtn = document.getElementById("deletebtn");
      let maindiv = document.getElementById("maindiv");
      let section2 = document.getElementById("section2");
      let section3 = document.getElementById("section3");

      homebtn.addEventListener("click", () => {
        maindiv.style.display = "flex";
        section2.style.display = "none";
        section3.style.display = "none";
      });
      deletebtn.addEventListener("click", () => {
        maindiv.style.display = "none";
        section2.style.display = "flex";
        section3.style.display = "flex";
      });

      let homebtnc = document.getElementsByClassName("homebtn");
      let changecolor = document.getElementsByClassName(
        "material-symbols-outlined"
      );

      for (let i = 0; i < homebtnc.length; i++) {
        homebtnc[i].addEventListener("mouseover", () => {
          changecolor[i].style.background = "#51459e";
          changecolor[i].style.color = "#ece8da";
        });
        homebtnc[i].addEventListener("mouseleave", () => {
          changecolor[i].style.background = "#ece8da";
          changecolor[i].style.color = "#51459e";
        });
      }
    </script>
  </body>
</html>
